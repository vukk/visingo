<!-- Loads lodash -->
<script type="text/javascript" src="../bower_components/lodash/lodash.min.js"></script>
<script>
// From: http://stackoverflow.com/a/25651677/3620923
// modified a bit
_.mixin({
    shallowDiff: function(a,b) {
        return _.omit(a, function(v,k) { return b[k] === v; })
    },
    deepDiff: function(a,b) {
        var r = {};
        _.each(a, function(v,k) {
            if(b[k] === v) return;
            if(typeof b[k] === 'undefined') {
            	r[k] = v;
            }
            else {
	            // but what if it returns an empty object? still attach?
    	        r[k] = _.isObject(v)
    	                ? _.deepDiff(v, b[k])
    	                : v
    	            ;
            }});
        return r;
    }
});
</script>
