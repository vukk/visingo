
<link rel="import" href="../../bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../../bower_components/paper-radio-button/paper-radio-button.html">

<dom-module id="visingo-visualizer-chooser">
  <template>
  <div>
    <paper-radio-group selected="{{chosenIdx}}">
      <template is="dom-repeat" items="[[visualizers]]">
      <paper-radio-button name="[[_BugFix(index)]]">[[item.name]]</paper-radio-button>
      </template>
    </paper-radio-group>
  </div>
  </template>
</dom-module>

<script>
  (function() {
    Polymer({
      is: 'visingo-visualizer-chooser',
      
      properties: {
        visualizers: {
          type: Array,
          value: []
        },
        chosen: {
          type: Object,
          notify: true,
          readonly: true,
          computed: '_computeChosen(chosenIdx)'
        },
        chosenIdx: {
          type: String,
          value: "0"
          //notify: true
        }
      },

      _BugFix: function(idx) { return String(idx); },

      _computeChosen: function(idx) {
        return this.visualizers[Number(idx)];
      },

      _toArray: function(obj) {
        return Object.keys(obj).map(function(key) {
          return {name: key, value: obj[key]};
        });
      }

    });
  })();

</script>

