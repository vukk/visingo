
<!--
TODO: make this into an element visingo-visualizer-content-visjs that can
be extended by the visualizer package (often empty extension, but less repeated code?)
-->

<!-- import vis.js (global vis)-->
<link rel="import" href="../../elements/vis-import.html">
<!-- import lodash (global _) -->
<link rel="import" href="../../elements/lodash-import.html">
<!-- import parser -->
<link rel="import" href="../../elements/visingo-parsers/answersetterms-to-visjs.html">

<dom-module id="visualizer-test-vis-graph-element">
  <template>

    <style type="text/css">
      :host {
        /*display: block;
        position: relative;*/
        display: block;
        width: 100%;
        height: 100%;
      }
      #visjsCanvasContainer {
        width: 100%;
        height: 100%;
        background-color: #fff;
      }
    </style>

    <!-- vis.js canvas div -->
    <div id="visjsCanvasContainer"></div>

  </template>
</dom-module>
<script>
  (function() {
    Polymer({
      is: 'visualizer-test-vis-graph-element',

      properties: {
        resizing: {
          type: Boolean,
          value: false,
          notify: true
        },
        _visScript: {
          type: Object,
          readonly: true
        }
      },

      created: function() {
        //console.log(this.resolveUrl('visualizer.js'));
        System.import(this.resolveUrl('visualizer.js')).then(function(m) {
          this._visScript = m;
          //this.launch();
        }.bind(this));
      },

      attached: function () {
        // foo
        this.async(function(){
          this._visScript.initialize(this.$.visjsCanvasContainer);
          // TODO: remove visS, visC which are here for development convenience
          window.visS = this._visScript;
          window.visC = this.$.visjsCanvasContainer;
        },1);
      }

    });
  })();
</script>

