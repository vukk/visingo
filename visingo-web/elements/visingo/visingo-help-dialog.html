<link rel="import" href="visingo-help.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">

<dom-module id="visingo-help-dialog">
  <style>
    paper-dialog: {
      min-width: 90%;
      min-height: 90%;
      border-radius: 5px;
    }
    paper-dialog-scrollable {
      style="min-width: 100%;
      position: absolute;
      top: 0;
      bottom: 0;
      margin: 0;"
    }
  </style>
  <template>
    <paper-dialog id="helpDialog" with-backdrop>
      <paper-dialog-scrollable>
        <visingo-help></visingo-help>
      </paper-dialog-scrollable>
    </paper-dialog>
  </template>
</dom-module>

<script>
  (function() {
    Polymer({
      is: 'visingo-help-dialog',

      properties: {
        // TODO
        display: {
          type: Boolean,
          value: false,
          notify: true,
          observer: '_displayChange'
        }
      },

      _displayChange: function(newVal, oldVal) {
        if(newVal === oldVal) return; // stop recursion
        if(newVal === true)
          this.open();
        else
          this.close();
      },

      open: function() {
        this.$.helpDialog.open();
        this.display = true;
        this.$.helpDialog.refit();
      },
      close: function() {
        this.$.helpDialog.close();
        this.display = false;
      }

    });
  })();

</script>
